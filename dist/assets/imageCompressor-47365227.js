const l=(s,o=1080,d=.7)=>new Promise((i,c)=>{const r=new FileReader;r.readAsDataURL(s),r.onload=g=>{const t=new Image;t.src=g.target.result,t.onload=()=>{let e=t.width,a=t.height;e>o&&(a=a*o/e,e=o);const n=document.createElement("canvas");n.width=e,n.height=a,n.getContext("2d").drawImage(t,0,0,e,a);const m=s.type==="image/png"?"image/png":"image/jpeg",p=n.toDataURL(m,d);i(p)},t.onerror=e=>{c(e)}},r.onerror=g=>{c(g)}});export{l as compressImage};
